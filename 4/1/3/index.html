<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

<base href="https://openameba.github.io/a11y-guidelinescontent/docs/">

  <title>4.1.3 コンテンツの変更をユーザーに知らせる - Ameba Accessibility Guidelines</title>

<link rel="icon" href="https://openameba.github.io/a11y-guidelinesfavicon.ico">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/github.min.css">

  <link rel="stylesheet" href="https://openameba.github.io/a11y-guidelines/css/detail.css">


<meta property="og:description" content="">
<meta property="og:image" content="https://openameba.github.io/a11y-guidelines/favicon.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://openameba.github.io/a11y-guidelines/4/1/3/">
<meta property="og:site_name" content="Ameba Accessibility Guidelines">
<meta property="og:title" content="4.1.3 コンテンツの変更をユーザーに知らせる">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@ameba_official">
<meta name="twitter:url" content="https://openameba.github.io/a11y-guidelines/4/1/3/">
<meta name="twitter:title" content="4.1.3 コンテンツの変更をユーザーに知らせる">

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://openameba.github.io/a11y-guidelines/img/apple-touch-icon.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://openameba.github.io/a11y-guidelines/img/apple-touch-icon.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://openameba.github.io/a11y-guidelines/img/apple-touch-icon.png">
<link rel="apple-touch-icon-precomposed" href="https://openameba.github.io/a11y-guidelines/img/apple-touch-icon.png">

  </head>

  <body>
    <header class="Header">
  
    <p class="Container">
      <a href="https://openameba.github.io/a11y-guidelines">
        <img src="https://openameba.github.io/a11y-guidelines/img/logo.svg" class="Header__Logo" alt="Ameba" />
        <span class="Header__title">Accessibility<br>Guidelines</span>
      </a>
    </p>
  
</header>


    <main class="Main">
      <div class="Container">
        <article class="Article">
          

<h1 id="4-1-3-コンテンツの変更をユーザーに知らせる">4.1.3 コンテンツの変更をユーザーに知らせる</h1>

<p>この項目の目的は、フォーカスが与えられてないコンテンツの変更をより多くのユーザーが認識できるようにすることである。
これは、スクリーンリーダーでの音声読み上げでコンテンツを閲覧しているユーザーに特に効果がある。視覚的にステータスメッセージを読めない場合、必要なステータスに気づけず操作できなくなることがあるからだ。
コンテンツに適切な役割を割り当てることで、スクリーンリーダーなどの支援技術が変更を伝えてくれる。</p>

<p><details>
<summary>ステータスメッセージとは</summary>
コンテンツへのアクションの成功や結果、処理の進行状況やエラー情報など。
なお、コンテキストの変化はステータスではない。</p>

<p>検索結果表示画面を例にした場合、</p>

<ul>
<li>検索結果が表示される</li>
</ul>

<p>は、コンテキストの変化に関する情報になるため、ステータスメッセージには含まれない。</p>

<ul>
<li>検索実行のアクション後に表示される「検索中…」というテキスト</li>
<li>検索実行エラー時の「検索キーワードに記号は含めません」というエラーテキスト</li>
</ul>

<p>などステータスのについて表示されるテキストはステータスメッセージに含まれる
</details></p>

<h2 id="レビュー-テスト方法">レビュー・テスト方法</h2>

<ul>
<li>コードレビュー時、適切なライブリージョンが設定されていること</li>
<li>コンテンツが変更されたときに、支援技術が適切に読み上げること</li>
</ul>

<h2 id="実装方法">実装方法</h2>

<ul>
<li>変更を知らせたい要素にrole属性とWAI-ARIAの <code>aria-live</code> 属性を指定する</li>
<li>その要素がhtmlの描画時に存在している（javascriptで動的に埋め込まれていない）</li>
<li>JavaScriptで通知したいテキストをその要素に挿入している（<a href="https://waic.jp/docs/WCAG-TECHS/ARIA19.html">ARIA19: エラーを特定するために、ARIA role=alert 又はライブリージョン(Live Regions)を使用する</a>）</li>
</ul>

<h3 id="入力フォームでのエラー表示">入力フォームでのエラー表示</h3>

<h4 id="良い実装例">良い実装例</h4>

<pre><code>&lt;div id=&quot;error&quot; role=&quot;alert&quot; aria-live=&quot;assertive&quot;&gt;&lt;/div&gt;
</code></pre>

<h4 id="悪い実装例">悪い実装例</h4>

<p><code>role=&quot;alert&quot;</code> のみ指定されている。
role属性をサポートしていないブラウザがあるので、WAI-ARIAの <code>aria-live=&quot;assertive&quot;</code>も併用する。</p>

<pre><code>&lt;div id=&quot;error&quot; role=&quot;alert&quot;&gt;&lt;/div&gt;
</code></pre>

<h2 id="参考文献">参考文献</h2>

<ul>
<li>Understanding Success Criterion 4.1.3: Status Messages <a href="https://www.w3.org/WAI/WCAG21/Understanding/status-messages.html">4.1.3 Parsing</a></li>
<li><a href="https://waic.jp/docs/WCAG-TECHS/ARIA19.html">ARIA19: エラーを特定するために、ARIA role=alert 又はライブリージョン (Live Regions) を使用する</a></li>
</ul>

        </article>
      </div>
    </main>

    <footer class="Footer">
  <div class="Container">
    <small class="Footer__Credit">
      Copyright © CyberAgent, Inc. All Rights Reserved.
      <a href="https://www.cyberagent.co.jp/">
        <img src="/a11y-guidelines/img/cyberagent.png" alt="CyberAgent" width="113" height="20">
      </a>
    </small>
  </div>
</footer>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const blocks = document.querySelectorAll('pre code');
  for (const block of blocks) {
    hljs.highlightBlock(block);
  }
});
</script>

  </body>
</html>
